# ğŸ‡¹ğŸ‡¼ å°è‚¡ API æ•´åˆæŒ‡å—

## å…è²» API é¸é …

### 1. **Yahoo Finance APIï¼ˆæ¨è–¦ï¼‰âœ…**
- **å„ªé»**ï¼šå…è²»ã€ç©©å®šã€æ”¯æ´å°è‚¡
- **å°è‚¡ä»£ç¢¼æ ¼å¼**ï¼š`2330.TW`ï¼ˆå°ç©é›»ï¼‰ã€`2454.TW`ï¼ˆè¯ç™¼ç§‘ï¼‰
- **ä½¿ç”¨ç¯„ä¾‹**ï¼š
  ```typescript
  // å°ç©é›»
  const quote = await getStockQuote('2330.TW');
  
  // è¯ç™¼ç§‘
  const quote = await getStockQuote('2454.TW');
  ```
- **é™åˆ¶**ï¼šå»¶é²ç´„ 15 åˆ†é˜

### 2. **å°ç£è­‰åˆ¸äº¤æ˜“æ‰€å…¬é–‹è³‡è¨Š**
- **ç¶²å€**ï¼šhttps://www.twse.com.tw/zh/
- **å„ªé»**ï¼šå®˜æ–¹è³‡æ–™ã€å®Œå…¨å…è²»
- **ç¼ºé»**ï¼šéœ€è¦çˆ¬èŸ²ã€è³‡æ–™æ ¼å¼è¤‡é›œ
- **API ç¯„ä¾‹**ï¼š
  ```
  https://www.twse.com.tw/rwd/zh/afterTrading/STOCK_DAY?date=20250101&stockNo=2330
  ```

### 3. **FinMindï¼ˆå°ç£é‡‘èè³‡æ–™ï¼‰**
- **ç¶²å€**ï¼šhttps://finmindtrade.com/
- **å„ªé»**ï¼šå°ˆç‚ºå°è‚¡è¨­è¨ˆã€æœ‰ Python SDK
- **å…è²»é¡åº¦**ï¼š1000 æ¬¡/å¤©
- **ç¯„ä¾‹**ï¼š
  ```python
  from FinMind.data import DataLoader
  
  dl = DataLoader()
  data = dl.taiwan_stock_daily(stock_id='2330', start_date='2025-01-01')
  ```

### 4. **å¯Œæœ APIï¼ˆä»˜è²»ä½†å°ˆæ¥­ï¼‰**
- **ç¶²å€**ï¼šhttps://developer.fugle.tw/
- **å„ªé»**ï¼šå³æ™‚è¡Œæƒ…ã€å°ˆæ¥­ç´š API
- **è²»ç”¨**ï¼šç´„ NT$300/æœˆèµ·
- **é©åˆ**ï¼šéœ€è¦å³æ™‚å ±åƒ¹çš„å°ˆæ¥­ç”¨æˆ¶

## æ¨è–¦å¯¦ä½œæ–¹æ¡ˆ

### **éšæ®µ 1ï¼šYahoo Financeï¼ˆç«‹å³å¯ç”¨ï¼‰**
```typescript
// å·²å¯¦ä½œåœ¨ stockService.ts
const quote = await getStockQuote('2330.TW');
// å›å‚³: { symbol, name, price, change, changePercent }
```

### **éšæ®µ 2ï¼šåŠ å…¥å°è‚¡ç‰¹æ®Šæ¬„ä½**
```typescript
interface TaiwanStockQuote extends StockQuote {
  pe: number;          // æœ¬ç›Šæ¯”
  dividend: number;    // è‚¡æ¯
  volume: number;      // æˆäº¤é‡
  marketCap: number;   // å¸‚å€¼
}
```

### **éšæ®µ 3ï¼šæ··åˆè³‡æ–™æº**
```typescript
// ç™½å¤©ï¼šYahoo Financeï¼ˆå…è²»ï¼‰
// ç›¤å¾Œï¼šå°ç£è­‰äº¤æ‰€å®˜æ–¹è³‡æ–™
// ä»˜è²»ç”¨æˆ¶ï¼šåˆ‡æ›åˆ°å¯Œæœ API å³æ™‚è¡Œæƒ…
```

## å°è‚¡ä»£ç¢¼å°ç…§è¡¨ï¼ˆå¸¸ç”¨ï¼‰

| è‚¡ç¥¨åç¨± | Yahoo Finance ä»£ç¢¼ | è­‰äº¤æ‰€ä»£ç¢¼ |
|---------|-------------------|----------|
| å°ç©é›»   | 2330.TW          | 2330     |
| è¯ç™¼ç§‘   | 2454.TW          | 2454     |
| é´»æµ·     | 2317.TW          | 2317     |
| å°é”é›»   | 2308.TW          | 2308     |
| ä¸­è¯é›»   | 2412.TW          | 2412     |
| åœ‹æ³°é‡‘   | 2882.TW          | 2882     |
| å¯Œé‚¦é‡‘   | 2881.TW          | 2881     |
| ç‰å±±é‡‘   | 2884.TW          | 2884     |
| 0050 ETF | 0050.TW          | 0050     |
| 0056 ETF | 0056.TW          | 0056     |

## å»ºè­°ï¼šè¼¸å…¥è‡ªå‹•è½‰æ›
```typescript
// ç”¨æˆ¶è¼¸å…¥ï¼š2330
// è‡ªå‹•è½‰æ›ç‚ºï¼š2330.TWï¼ˆæŸ¥è©¢ Yahoo Financeï¼‰
// è‡ªå‹•è½‰æ›ç‚ºï¼š2330ï¼ˆæŸ¥è©¢å°ç£è­‰äº¤æ‰€ï¼‰

function formatTaiwanSymbol(input: string): string {
  // ç§»é™¤ç©ºæ ¼
  const clean = input.trim();
  
  // å¦‚æœæ˜¯ç´”æ•¸å­—ï¼ˆå°è‚¡ä»£ç¢¼ï¼‰
  if (/^\d{4}$/.test(clean)) {
    return `${clean}.TW`; // ä¸Šå¸‚è‚¡ç¥¨
  }
  
  // å¦‚æœæ˜¯ ETFï¼ˆ0050, 0056ï¼‰
  if (/^0\d{3}$/.test(clean)) {
    return `${clean}.TW`;
  }
  
  // ä¸Šæ«ƒè‚¡ç¥¨ä½¿ç”¨ .TWO
  // if (isOTC) return `${clean}.TWO`;
  
  return clean; // å·²ç¶“æ˜¯æ­£ç¢ºæ ¼å¼
}
```

## è³‡æ–™æ›´æ–°é »ç‡å»ºè­°

- **ç›¤ä¸­**ï¼šæ¯ 1 åˆ†é˜ï¼ˆå…è²» API é™åˆ¶ 15 åˆ†é˜å»¶é²ï¼‰
- **ç›¤å¾Œ**ï¼šæ¯å°æ™‚æ›´æ–°ä¸€æ¬¡
- **æ”¶ç›¤å¾Œ**ï¼šä½¿ç”¨ç•¶æ—¥æ”¶ç›¤åƒ¹å¿«å–

## æˆæœ¬ä¼°ç®—

| æ–¹æ¡ˆ | æœˆè²»ç”¨ | æ›´æ–°é »ç‡ | æ¨è–¦åº¦ |
|-----|-------|---------|-------|
| Yahoo Finance | å…è²» | 15åˆ†é˜å»¶é² | â­â­â­â­â­ |
| FinMind | å…è²»/NT$500 | æ—¥ç·šè³‡æ–™ | â­â­â­â­ |
| å¯Œæœ API | NT$300+ | å³æ™‚ | â­â­â­ |
| å°ç£è­‰äº¤æ‰€ | å…è²» | ç›¤å¾Œ | â­â­â­ |

